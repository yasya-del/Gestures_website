<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">

</head>
<header><nav class="nav">
      <ul>
        <li><a href="doc.html">Главная</a></li>
        <li><a href="materials.html">Полезные материалы</a></li>
        <li><a href="courses.html">Курсы</a></li>
        <li><a href="enter.html">Войти</a></li>
        <li><a href="registration.html">Регистрация</a></li>
      </ul>
    </nav></header>
<body>
  <h2 class="main-title">Курсы для изучения языка жестов</h2>
<div class="row-course">
  <div id="steps">
    <div class="step">
      <div class="circle"></div>
      <div class="step-text-pad"><span class="step-label">Курс 1.</span>Знакомство</div>
    </div>

    <div class="step">
      <div class="circle filled"></div>
      <div class="step-text-pad"><span class="step-label">Курс 2.</span>Семья</div>
    </div>

    <div class="step">
      <div class="circle filled"></div>
      <div class="step-text-pad"><span class="step-label">Курс 3.</span>Дом</div>
    </div>

    <div class="step">
      <div class="circle filled"></div>
      <div class="step-text-pad"><span class="step-label">Курс 4.</span>Мир вокруг</div>
    </div>
  </div>
  <div class="button-courses">
    <button class="padding"><a href="courses_1_acquaintance.html">Изучить</a></button>
    <button class="padding"><a href="courses_2_family.html">Изучить</a></button>
    <button class="padding"><a href="#">Недоступно</a></button>
    <button class="padding"><a href="#">Недоступно</a></button>
  </div>
</div>
 <script>
      document.addEventListener("DOMContentLoaded", () => {
      const currentUser = localStorage.getItem("currentUser");
      if (!currentUser) return;

      let users = JSON.parse(localStorage.getItem("users")) || [];
      let user = users.find(u => u.login === currentUser);
      if (!user) return;

      // если первый тест не пройден — блокируем второй
      const btnQuestions = document.querySelector('a[href="courses_2_family.html"]');
      if (!user.progress.test_pronouns || !user.progress.test_questions || !user.progress.test_time || !user.progress.test_count || !user.progress.test_communication) {
        btnQuestions.style.pointerEvents = "none";
        btnQuestions.style.opacity = "0.5";
        btnQuestions.textContent = "Недоступно";
        btnQuestions.title = "Пройдите предыдущий тест";
      }

      </script>
</body>
</html>